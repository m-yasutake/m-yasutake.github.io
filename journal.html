<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Tomika Bikes â€“ Private journal. Sign in to read and write entries." />
  <title>Journal â€“ Tomika Bikes</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸš´</text></svg>" />

  <style>
    /* Auth gate overlay on the journal section */
    .journal-gate {
      position: relative;
      min-height: 500px;
    }

    .gate-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, rgba(248,249,250,0) 0%, rgba(248,249,250,.97) 35%);
      z-index: 10;
      display: flex;
      align-items: flex-end;
      padding-bottom: 3rem;
      pointer-events: none;
    }

    .gate-overlay.locked {
      background: rgba(248,249,250,.97);
      align-items: center;
      padding-bottom: 0;
    }

    .gate-cta {
      pointer-events: all;
      width: 100%;
    }

    .journal-header-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .word-count {
      font-size: .8rem;
      color: var(--color-gray-600);
      margin-top: .5rem;
    }

    /* Entries preview blur */
    .entries-blur {
      filter: blur(3px);
      pointer-events: none;
      user-select: none;
    }

    .mood-grid {
      display: flex;
      gap: .75rem;
      flex-wrap: wrap;
    }
  </style>
</head>
<body>

<div class="page-loader">
  <div class="loader-inner">
    <div class="loader-logo">tomika<span class="accent">.bikes</span></div>
    <div class="loader-dots"><div class="loader-dot"></div><div class="loader-dot"></div><div class="loader-dot"></div></div>
  </div>
</div>

<!-- Navigation -->
<nav class="navbar">
  <div class="nav-inner">
    <a href="index.html" class="nav-logo"><span class="logo-icon">ğŸš´</span>tomika<span class="accent">.bikes</span></a>
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="planning.html">Planning</a></li>
      <li><a href="roots.html">Roots</a></li>
      <li><a href="blog.html">Blog</a></li>
      <li><a href="photos.html">Photos</a></li>
      <li><a href="journal.html">Journal</a></li>
      <li><a href="admin.html">Admin</a></li>
    </ul>
    <div class="nav-actions">
      <button class="nav-login-btn" data-auth>
        <svg viewBox="0 0 24 24" fill="none" width="16" height="16"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>
        Sign In
      </button>
    </div>
    <button class="hamburger" aria-label="Toggle menu"><span></span><span></span><span></span></button>
  </div>
</nav>

<div class="mobile-menu">
  <a href="index.html">ğŸ  Home</a>
  <a href="planning.html">ğŸ—ºï¸ Planning</a>
  <a href="roots.html">ğŸšµ Roots</a>
  <a href="blog.html">âœï¸ Blog</a>
  <a href="photos.html">ğŸ“· Photos</a>
  <a href="journal.html">ğŸ“” Journal</a>
  <a href="admin.html">âš™ï¸ Admin</a>
  <button class="btn btn-primary" style="margin-top:.5rem" data-auth>Sign In with Google</button>
</div>

<div class="auth-overlay">
  <div class="auth-modal">
    <button class="auth-close">âœ•</button>
    <h2>Welcome back ğŸ‘‹</h2>
    <p>Sign in to access your private journal</p>
    <button class="google-btn">
      <svg viewBox="0 0 24 24" fill="none" width="20" height="20"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>
      Continue with Google
    </button>
    <p class="auth-note">Firebase auth coming soon</p>
  </div>
</div>

<!-- Page Hero -->
<div class="page-hero">
  <div class="container">
    <div class="hero-badge" style="margin-bottom:.75rem">ğŸ“” Private</div>
    <h1>Our Journal</h1>
    <p>Raw thoughts, feelings, and reflections from the road â€“ just for us</p>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     JOURNAL CONTENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section class="section">
  <div class="container">

    <!-- Lock gate (shown when not authenticated) -->
    <div id="lockGate" style="padding: 2rem 0">
      <div class="journal-lock">
        <span class="lock-icon">ğŸ”</span>
        <h2>Private Journal</h2>
        <p>This journal is private and only accessible to Tomika and Partner. Sign in with your Google account to read and write entries.</p>
        <button class="btn btn-primary" style="margin:0 auto" data-auth>Sign In with Google</button>
        <p style="margin-top:1.5rem;font-size:.8rem;color:var(--color-gray-400)">
          Firebase authentication will be connected soon.<br>For now, click below to preview the journal.
        </p>
        <button class="btn btn-outline" style="margin-top:1rem;color:var(--color-secondary);border-color:var(--color-secondary)" onclick="unlockPreview()">ğŸ‘ï¸ Preview Demo</button>
      </div>
    </div>

    <!-- Journal content (hidden initially) -->
    <div id="journalContent" style="display:none">

      <!-- Write entry -->
      <div class="journal-header-row">
        <h2>Journal Entries</h2>
        <button class="btn btn-primary" onclick="toggleCompose()">âœï¸ New Entry</button>
      </div>

      <div class="journal-compose" id="composeArea" style="display:none">
        <h3>New Journal Entry</h3>
        <div class="form-group">
          <label for="entryTitle">Title</label>
          <input type="text" id="entryTitle" class="form-control" placeholder="Day 42 â€“ The Moment Everything Changed..." />
        </div>
        <div class="form-group">
          <label for="entryBody">Entry</label>
          <textarea id="entryBody" class="form-control" rows="8" placeholder="Write your thoughts, feelings, and experiences from today..."></textarea>
          <div class="word-count" id="wordCount">0 words</div>
        </div>
        <div class="form-group">
          <label>Mood</label>
          <div class="mood-grid">
            <button class="mood-btn" onclick="selectMood(this,'ğŸ˜Š Happy')">ğŸ˜Š Happy</button>
            <button class="mood-btn" onclick="selectMood(this,'ğŸ¤© Amazing')">ğŸ¤© Amazing</button>
            <button class="mood-btn" onclick="selectMood(this,'ğŸ˜Œ Peaceful')">ğŸ˜Œ Peaceful</button>
            <button class="mood-btn" onclick="selectMood(this,'ğŸ˜¤ Exhausted')">ğŸ˜¤ Exhausted</button>
            <button class="mood-btn" onclick="selectMood(this,'ğŸ˜° Anxious')">ğŸ˜° Anxious</button>
            <button class="mood-btn" onclick="selectMood(this,'ğŸ¤” Reflective')">ğŸ¤” Reflective</button>
          </div>
        </div>
        <div style="display:flex;gap:1rem;flex-wrap:wrap">
          <button class="btn btn-primary" onclick="saveEntry()">ğŸ’¾ Save Entry</button>
          <button class="btn btn-outline" style="color:var(--color-gray-600);border-color:var(--color-gray-300)" onclick="toggleCompose()">Cancel</button>
        </div>
      </div>

      <!-- Entries -->
      <div class="journal-entries" id="entriesContainer">

        <div class="journal-entry">
          <div class="journal-date">ğŸ“… February 14, 2026 â€“ Valentine's Day</div>
          <h3>Pre-trip nerves and why I'm more excited than scared</h3>
          <p>We've been planning this for so long that it started to feel abstract â€“ just a spreadsheet, a dream, a list of gear. But today something shifted. We laid everything out on the living room floor â€“ panniers, tools, camping kit, clothes â€“ and it became real. We're actually doing this.</p>
          <p>I keep having the same thought loop: what if the bikes break down? What if we can't find camping spots? What if we just... can't do it? But then I look across the room and see them just as excited, just as terrified, and I think: this is exactly the kind of thing you do with someone you trust completely.</p>
          <div class="journal-mood">ğŸ˜Š Happy</div>
        </div>

        <div class="journal-entry">
          <div class="journal-date">ğŸ“… January 28, 2026</div>
          <h3>The great gear debate, resolved (mostly)</h3>
          <p>Three weeks of arguments about what to bring and what to leave behind. The tent won. The extra camera lens lost. We found a compromise on cooking equipment â€“ one small stove, one pot, one pan. Enough to make pasta, not enough to make excuses to stay indoors.</p>
          <p>Weighed both bikes loaded: 22kg each. That felt heavy until I remembered that a loaded touring bike in Morocco weighs 30kg+. We're lightweight adventurers, apparently.</p>
          <div class="journal-mood">ğŸ¤” Reflective</div>
        </div>

        <div class="journal-entry">
          <div class="journal-date">ğŸ“… January 10, 2026</div>
          <h3>Why London to Istanbul? The honest answer.</h3>
          <p>Everyone asks why we chose this route. The easy answer is "it's iconic, it's achievable, it's beautiful." The honest answer is messier: we both needed something big. Something that would make us too busy surviving to worry about everything else.</p>
          <p>There's a specific quality to physical exhaustion after a long day in the saddle â€“ your brain just... quiets. You fall asleep in a tent listening to rain and you feel, for once, like you're exactly where you're supposed to be.</p>
          <div class="journal-mood">ğŸ¤© Amazing</div>
        </div>

      </div>
    </div>

  </div>
</section>

<!-- Footer -->
<footer>
  <div class="container">
    <div class="footer-grid">
      <div class="footer-brand">
        <div class="footer-logo">ğŸš´ tomika<span class="accent">.bikes</span></div>
        <p>A cycling adventure blog.</p>
      </div>
      <div class="footer-col"><h4>Explore</h4><a href="index.html">Home</a><a href="planning.html">Planning</a><a href="blog.html">Blog</a><a href="photos.html">Photos</a></div>
      <div class="footer-col"><h4>Account</h4><a href="journal.html">Journal</a><a href="admin.html">Admin</a></div>
      <div class="footer-col"><h4>Info</h4><a href="#">About</a><a href="#">Contact</a></div>
    </div>
    <div class="footer-bottom">
      <span>Â© 2026 tomika.bikes</span>
      <span>Made with â¤ï¸ and ğŸš´</span>
    </div>
  </div>
</footer>

<script src="js/main.js"></script>
<script>
  let selectedMood = '';

  function unlockPreview() {
    document.getElementById('lockGate').style.display = 'none';
    document.getElementById('journalContent').style.display = 'block';
    TomikaBikes.showToast('Previewing journal â€“ sign in for full access', 'info');
  }

  function toggleCompose() {
    const area = document.getElementById('composeArea');
    area.style.display = area.style.display === 'none' ? 'block' : 'none';
  }

  function selectMood(btn, mood) {
    document.querySelectorAll('.mood-btn').forEach(b => b.classList.remove('selected'));
    btn.classList.add('selected');
    selectedMood = mood;
  }

  function saveEntry() {
    const title = document.getElementById('entryTitle').value.trim();
    const body  = document.getElementById('entryBody').value.trim();
    if (!title || !body) { TomikaBikes.showToast('Please add a title and body', 'error'); return; }

    const container = document.getElementById('entriesContainer');
    const now = new Date().toLocaleDateString('en-GB', { year:'numeric', month:'long', day:'numeric' });

    const entry = document.createElement('div');
    entry.className = 'journal-entry';
    entry.innerHTML = `
      <div class="journal-date">ğŸ“… ${now}</div>
      <h3>${title}</h3>
      <p>${body.replace(/\n/g, '</p><p>')}</p>
      ${selectedMood ? `<div class="journal-mood">${selectedMood}</div>` : ''}
    `;

    container.insertBefore(entry, container.firstChild);

    // Reset form
    document.getElementById('entryTitle').value = '';
    document.getElementById('entryBody').value  = '';
    selectedMood = '';
    document.querySelectorAll('.mood-btn').forEach(b => b.classList.remove('selected'));
    document.getElementById('wordCount').textContent = '0 words';
    toggleCompose();

    TomikaBikes.showToast('Entry saved! (Firebase sync coming soon)', 'success');
  }

  // Word count
  document.getElementById('entryBody') && document.getElementById('entryBody').addEventListener('input', function() {
    const words = this.value.trim().split(/\s+/).filter(Boolean).length;
    document.getElementById('wordCount').textContent = `${words} word${words !== 1 ? 's' : ''}`;
  });
</script>
</body>
</html>
